<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2348px" preserveAspectRatio="none" style="width:1142px;height:2348px;" version="1.1" viewBox="0 0 1142 2348" width="1142px" zoomAndPan="magnify"><defs><filter height="300%" id="fb1wl3a1irh7y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="2333.4766" style="stroke: #000000; stroke-width: 1.0;" width="552" x="101" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="363.5" y="17.4951">Host</text><rect fill="#FFFFE0" height="2333.4766" style="stroke: #000000; stroke-width: 1.0;" width="436" x="695" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="894.5" y="17.4951">Client</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="41" x2="41" y1="60.9609" y2="2297.8672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="177" x2="177" y1="60.9609" y2="2297.8672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="473" x2="473" y1="60.9609" y2="2297.8672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="595" x2="595" y1="60.9609" y2="2297.8672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="770" x2="770" y1="60.9609" y2="2297.8672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="932" x2="932" y1="60.9609" y2="2297.8672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1075" x2="1075" y1="60.9609" y2="2297.8672"/><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="8" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="15" y="45.8848">Unity3D</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="8" y="2296.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="15" y="2318.4004">Unity3D</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="105" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="112" y="45.8848">GameStateManager</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="105" y="2296.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="112" y="2318.4004">GameStateManager</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="416" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="423" y="45.8848">PubSubService</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="416" y="2296.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="423" y="2318.4004">PubSubService</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="541" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="548" y="45.8848">CallbackClient</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="541" y="2296.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="548" y="2318.4004">CallbackClient</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="699" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="706" y="45.8848">ClientStateManager</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="699" y="2296.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="706" y="2318.4004">ClientStateManager</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="852" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="859" y="45.8848">CallbackServiceServer</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="852" y="2296.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="859" y="2318.4004">CallbackServiceServer</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1023" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1030" y="45.8848">PubSubClient</text><rect fill="#FEFECE" filter="url(#fb1wl3a1irh7y)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1023" y="2296.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1030" y="2318.4004">PubSubClient</text><polygon fill="#A80036" points="165.5,89.3125,175.5,93.3125,165.5,97.3125,169.5,93.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="93.3125" y2="93.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="48.5" y="88.4561">start()</text><polygon fill="#A80036" points="461.5,119.6641,471.5,123.6641,461.5,127.6641,465.5,123.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="467.5" y1="123.6641" y2="123.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="184.5" y="118.8076">create new</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="154.0156" y2="154.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="154.0156" y2="167.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="167.0156" y2="167.0156"/><polygon fill="#A80036" points="188.5,163.0156,178.5,167.0156,188.5,171.0156,184.5,167.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="184.5" y="149.1592">UpdateGameState(JOIN)</text><polygon fill="#A80036" points="758.5,193.3672,768.5,197.3672,758.5,201.3672,762.5,197.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="764.5" y1="197.3672" y2="197.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="48.5" y="192.5107">start()</text><polygon fill="#A80036" points="920.5,223.7188,930.5,227.7188,920.5,231.7188,924.5,227.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="926.5" y1="227.7188" y2="227.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="777.5" y="222.8623">create new</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="812.5" y1="258.0703" y2="258.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="812.5" x2="812.5" y1="258.0703" y2="271.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="771.5" x2="812.5" y1="271.0703" y2="271.0703"/><polygon fill="#A80036" points="781.5,267.0703,771.5,271.0703,781.5,275.0703,777.5,271.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="777.5" y="253.2139">UpdateGameState(JOIN)</text><polygon fill="#A80036" points="165.5,297.4219,175.5,301.4219,165.5,305.4219,169.5,301.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="301.4219" y2="301.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="296.5654">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="346.625" y2="346.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="346.625" y2="359.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="359.625" y2="359.625"/><polygon fill="#A80036" points="188.5,355.625,178.5,359.625,188.5,363.625,184.5,359.625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="184.5" y="341.7686">Join()</text><path d="M227,314.4219 L227,373.4219 L369,373.4219 L369,324.4219 L359,314.4219 L227,314.4219 " fill="#FBFB77" filter="url(#fb1wl3a1irh7y)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M359,314.4219 L359,324.4219 L369,324.4219 L359,314.4219 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="233" y="332.917">Stays in Join()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="233" y="349.2686">until desired number</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="233" y="365.6201">of players join</text><polygon fill="#A80036" points="758.5,400.8281,768.5,404.8281,758.5,408.8281,762.5,404.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="764.5" y1="404.8281" y2="404.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="399.9717">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="812.5" y1="435.1797" y2="435.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="812.5" x2="812.5" y1="435.1797" y2="448.1797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="771.5" x2="812.5" y1="448.1797" y2="448.1797"/><polygon fill="#A80036" points="781.5,444.1797,771.5,448.1797,781.5,452.1797,777.5,448.1797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="777.5" y="430.3232">Join()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="812.5" y1="478.5313" y2="478.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="812.5" x2="812.5" y1="478.5313" y2="491.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="771.5" x2="812.5" y1="491.5313" y2="491.5313"/><polygon fill="#A80036" points="781.5,487.5313,771.5,491.5313,781.5,495.5313,777.5,491.5313" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="777.5" y="473.6748">JoinGame()</text><polygon fill="#A80036" points="1063,517.8828,1073,521.8828,1063,525.8828,1067,521.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="1069" y1="521.8828" y2="521.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="777.5" y="517.0264">Subscribe()</text><polygon fill="#A80036" points="1063,548.2344,1073,552.2344,1063,556.2344,1067,552.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="1069" y1="552.2344" y2="552.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="777.5" y="547.3779">SendClientStateUpdate(JOIN)</text><polygon fill="#A80036" points="484.5,578.5859,474.5,582.5859,484.5,586.5859,480.5,582.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="478.5" x2="1074" y1="582.5859" y2="582.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="490.5" y="577.7295">JOIN message</text><polygon fill="#A80036" points="188.5,608.9375,178.5,612.9375,188.5,616.9375,184.5,612.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="472.5" y1="612.9375" y2="612.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="194.5" y="608.0811">ProcessClientStateUpdate(JOIN)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="643.2891" y2="643.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="643.2891" y2="656.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="656.2891" y2="656.2891"/><polygon fill="#A80036" points="188.5,652.2891,178.5,656.2891,188.5,660.2891,184.5,656.2891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="184.5" y="638.4326">OnPlayerJoin()</text><path d="M103,669.2891 L103,711.2891 L248,711.2891 L248,679.2891 L238,669.2891 L103,669.2891 " fill="#FBFB77" filter="url(#fb1wl3a1irh7y)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M238,669.2891 L238,679.2891 L248,679.2891 L238,669.2891 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="109" y="687.7842">Once desired number</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="109" y="704.1357">of players join</text><polygon fill="#A80036" points="583,739.3438,593,743.3438,583,747.3438,587,743.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="589" y1="743.3438" y2="743.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="184.5" y="738.4873">GameStateUpdate(SELCTDECK)</text><polygon fill="#A80036" points="920.5,769.6953,930.5,773.6953,920.5,777.6953,924.5,773.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="595" x2="926.5" y1="773.6953" y2="773.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="602" y="768.8389">SELECTDECK message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="804.0469" y2="804.0469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="804.0469" y2="817.0469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="817.0469" y2="817.0469"/><polygon fill="#A80036" points="188.5,813.0469,178.5,817.0469,188.5,821.0469,184.5,817.0469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="184.5" y="799.1904">UpdateGameState(SELCTDECK)</text><polygon fill="#A80036" points="165.5,843.3984,175.5,847.3984,165.5,851.3984,169.5,847.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="847.3984" y2="847.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="842.542">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="892.6016" y2="892.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="892.6016" y2="905.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="905.6016" y2="905.6016"/><polygon fill="#A80036" points="188.5,901.6016,178.5,905.6016,188.5,909.6016,184.5,905.6016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="184.5" y="887.7451">SelectDeck()</text><path d="M271,860.3984 L271,919.3984 L423,919.3984 L423,870.3984 L413,860.3984 L271,860.3984 " fill="#FBFB77" filter="url(#fb1wl3a1irh7y)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M413,860.3984 L413,870.3984 L423,870.3984 L413,860.3984 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="277" y="878.8936">Stays in SelectDeck()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="277" y="895.2451">until all players</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="277" y="911.5967">select their decks</text><polygon fill="#A80036" points="758.5,946.8047,768.5,950.8047,758.5,954.8047,762.5,950.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="764.5" y1="950.8047" y2="950.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="945.9482">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="812.5" y1="1004.1836" y2="1004.1836"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="812.5" x2="812.5" y1="1004.1836" y2="1017.1836"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="771.5" x2="812.5" y1="1017.1836" y2="1017.1836"/><polygon fill="#A80036" points="781.5,1013.1836,771.5,1017.1836,781.5,1021.1836,777.5,1017.1836" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="777.5" y="999.3271">SelectDeck()</text><path d="M864,963.8047 L864,1038.8047 L992,1038.8047 L992,973.8047 L982,963.8047 L864,963.8047 " fill="#FBFB77" filter="url(#fb1wl3a1irh7y)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M982,963.8047 L982,973.8047 L992,973.8047 L982,963.8047 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="870" y="982.2998">Client stays in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="870" y="998.6514">SelectDeck() until</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="870" y="1015.0029">player selects a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="870" y="1031.3545">deck using GUI</text><polygon fill="#A80036" points="1063,1066.5625,1073,1070.5625,1063,1074.5625,1067,1070.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="1069" y1="1070.5625" y2="1070.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="777.5" y="1065.7061">SendClientStateUpdate(DECK_SELECTED)</text><polygon fill="#A80036" points="484.5,1096.9141,474.5,1100.9141,484.5,1104.9141,480.5,1100.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="478.5" x2="1074" y1="1100.9141" y2="1100.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="490.5" y="1096.0576">DECK_SELECTED message</text><polygon fill="#A80036" points="188.5,1127.2656,178.5,1131.2656,188.5,1135.2656,184.5,1131.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="472.5" y1="1131.2656" y2="1131.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="194.5" y="1126.4092">ProcessClientStateUpdate(DECK_SELECTED)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1161.6172" y2="1161.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1161.6172" y2="1174.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1174.6172" y2="1174.6172"/><polygon fill="#A80036" points="188.5,1170.6172,178.5,1174.6172,188.5,1178.6172,184.5,1174.6172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="184.5" y="1156.7607">OnPlayerDeckSelected()</text><path d="M113,1187.6172 L113,1229.6172 L237,1229.6172 L237,1197.6172 L227,1187.6172 L113,1187.6172 " fill="#FBFB77" filter="url(#fb1wl3a1irh7y)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M227,1187.6172 L227,1197.6172 L237,1197.6172 L227,1187.6172 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="119" y="1206.1123">Once all players</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="119" y="1222.4639">select their decks</text><polygon fill="#A80036" points="583,1257.6719,593,1261.6719,583,1265.6719,587,1261.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="589" y1="1261.6719" y2="1261.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="184.5" y="1256.8154">GameStateUpdate(PREPSTART)</text><polygon fill="#A80036" points="920.5,1288.0234,930.5,1292.0234,920.5,1296.0234,924.5,1292.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="595" x2="926.5" y1="1292.0234" y2="1292.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="602" y="1287.167">PREPSTART message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1322.375" y2="1322.375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1322.375" y2="1335.375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1335.375" y2="1335.375"/><polygon fill="#A80036" points="188.5,1331.375,178.5,1335.375,188.5,1339.375,184.5,1335.375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="184.5" y="1317.5186">UpdateGameState(PREPSTART)</text><polygon fill="#A80036" points="165.5,1361.7266,175.5,1365.7266,165.5,1369.7266,169.5,1365.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="1365.7266" y2="1365.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1360.8701">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1396.0781" y2="1396.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1396.0781" y2="1409.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1409.0781" y2="1409.0781"/><polygon fill="#A80036" points="188.5,1405.0781,178.5,1409.0781,188.5,1413.0781,184.5,1409.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="184.5" y="1391.2217">PrepStart()</text><polygon fill="#A80036" points="758.5,1435.4297,768.5,1439.4297,758.5,1443.4297,762.5,1439.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="764.5" y1="1439.4297" y2="1439.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1434.5732">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="812.5" y1="1469.7813" y2="1469.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="812.5" x2="812.5" y1="1469.7813" y2="1482.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="771.5" x2="812.5" y1="1482.7813" y2="1482.7813"/><polygon fill="#A80036" points="781.5,1478.7813,771.5,1482.7813,781.5,1486.7813,777.5,1482.7813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="777.5" y="1464.9248">PrepStart()</text><polygon fill="#A80036" points="583,1509.1328,593,1513.1328,583,1517.1328,587,1513.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="589" y1="1513.1328" y2="1513.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="184.5" y="1508.2764">GameStateUpdate(ROLL)</text><polygon fill="#A80036" points="920.5,1539.4844,930.5,1543.4844,920.5,1547.4844,924.5,1543.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="595" x2="926.5" y1="1543.4844" y2="1543.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="602" y="1538.6279">ROLL message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1573.8359" y2="1573.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1573.8359" y2="1586.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1586.8359" y2="1586.8359"/><polygon fill="#A80036" points="188.5,1582.8359,178.5,1586.8359,188.5,1590.8359,184.5,1586.8359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="184.5" y="1568.9795">UpdateGameState(ROLL)</text><polygon fill="#A80036" points="165.5,1613.1875,175.5,1617.1875,165.5,1621.1875,169.5,1617.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="1617.1875" y2="1617.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1612.3311">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1647.5391" y2="1647.5391"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1647.5391" y2="1660.5391"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1660.5391" y2="1660.5391"/><polygon fill="#A80036" points="188.5,1656.5391,178.5,1660.5391,188.5,1664.5391,184.5,1660.5391" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="184.5" y="1642.6826">Roll()</text><polygon fill="#A80036" points="758.5,1686.8906,768.5,1690.8906,758.5,1694.8906,762.5,1690.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="764.5" y1="1690.8906" y2="1690.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1686.0342">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="812.5" y1="1721.2422" y2="1721.2422"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="812.5" x2="812.5" y1="1721.2422" y2="1734.2422"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="771.5" x2="812.5" y1="1734.2422" y2="1734.2422"/><polygon fill="#A80036" points="781.5,1730.2422,771.5,1734.2422,781.5,1738.2422,777.5,1734.2422" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="777.5" y="1716.3857">Roll()</text><polygon fill="#A80036" points="920.5,1760.5938,930.5,1764.5938,920.5,1768.5938,924.5,1764.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="595" x2="926.5" y1="1764.5938" y2="1764.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="602" y="1759.7373">ROLL_RESULT message</text><polygon fill="#A80036" points="583,1790.9453,593,1794.9453,583,1798.9453,587,1794.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="589" y1="1794.9453" y2="1794.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="184.5" y="1790.0889">GameStateUpdate(DEAL)</text><polygon fill="#A80036" points="920.5,1821.2969,930.5,1825.2969,920.5,1829.2969,924.5,1825.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="595" x2="926.5" y1="1825.2969" y2="1825.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="602" y="1820.4404">DEAL message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1855.6484" y2="1855.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1855.6484" y2="1868.6484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1868.6484" y2="1868.6484"/><polygon fill="#A80036" points="188.5,1864.6484,178.5,1868.6484,188.5,1872.6484,184.5,1868.6484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="184.5" y="1850.792">UpdateGameState(DEAL)</text><polygon fill="#A80036" points="165.5,1895,175.5,1899,165.5,1903,169.5,1899" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="1899" y2="1899"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1894.1436">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1929.3516" y2="1929.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1929.3516" y2="1942.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1942.3516" y2="1942.3516"/><polygon fill="#A80036" points="188.5,1938.3516,178.5,1942.3516,188.5,1946.3516,184.5,1942.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="184.5" y="1924.4951">DealCards()</text><polygon fill="#A80036" points="758.5,1968.7031,768.5,1972.7031,758.5,1976.7031,762.5,1972.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="764.5" y1="1972.7031" y2="1972.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1967.8467">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="812.5" y1="2003.0547" y2="2003.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="812.5" x2="812.5" y1="2003.0547" y2="2016.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="771.5" x2="812.5" y1="2016.0547" y2="2016.0547"/><polygon fill="#A80036" points="781.5,2012.0547,771.5,2016.0547,781.5,2020.0547,777.5,2016.0547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="777.5" y="1998.1982">DealCards()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2046.4063" y2="2046.4063"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2046.4063" y2="2059.4063"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2059.4063" y2="2059.4063"/><polygon fill="#A80036" points="188.5,2055.4063,178.5,2059.4063,188.5,2063.4063,184.5,2059.4063" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="184.5" y="2041.5498">UpdateGameState(START_TURN)</text><polygon fill="#A80036" points="165.5,2085.7578,175.5,2089.7578,165.5,2093.7578,169.5,2089.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="2089.7578" y2="2089.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="2084.9014">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2134.9609" y2="2134.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2134.9609" y2="2147.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2147.9609" y2="2147.9609"/><polygon fill="#A80036" points="188.5,2143.9609,178.5,2147.9609,188.5,2151.9609,184.5,2147.9609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="184.5" y="2130.1045">StartTurn()</text><path d="M257,2102.7578 L257,2161.7578 L472,2161.7578 L472,2112.7578 L462,2102.7578 L257,2102.7578 " fill="#FBFB77" filter="url(#fb1wl3a1irh7y)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M462,2102.7578 L462,2112.7578 L472,2112.7578 L462,2102.7578 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="263" y="2121.2529">Here GSM decides who is 'player'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="263" y="2137.6045">and who is 'opponent'.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="263" y="2153.9561">Players goes first.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2193.1641" y2="2193.1641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2193.1641" y2="2206.1641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2206.1641" y2="2206.1641"/><polygon fill="#A80036" points="188.5,2202.1641,178.5,2206.1641,188.5,2210.1641,184.5,2206.1641" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="184.5" y="2188.3076">UpdateGameState(PUNTAP)</text><polygon fill="#A80036" points="165.5,2232.5156,175.5,2236.5156,165.5,2240.5156,169.5,2236.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="2236.5156" y2="2236.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="2231.6592">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2266.8672" y2="2266.8672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2266.8672" y2="2279.8672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2279.8672" y2="2279.8672"/><polygon fill="#A80036" points="188.5,2275.8672,178.5,2279.8672,188.5,2283.8672,184.5,2279.8672" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="184.5" y="2262.0107">PUntap()</text><!--
@startuml

Unity3D -> GameStateManager : start()
GameStateManager -> PubSubService : create new
GameStateManager -> GameStateManager : UpdateGameState(JOIN)


Unity3D -> ClientStateManager : start()
ClientStateManager -> CallbackServiceServer : create new
ClientStateManager -> ClientStateManager : UpdateGameState(JOIN)

Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Join()

note right
	Stays in Join() 
	until desired number 
	of players join
end note

Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Join()
ClientStateManager -> ClientStateManager : JoinGame()
ClientStateManager -> PubSubClient : Subscribe()
ClientStateManager -> PubSubClient : SendClientStateUpdate(JOIN)
PubSubClient -> PubSubService : JOIN message
PubSubService -> GameStateManager : ProcessClientStateUpdate(JOIN)
GameStateManager -> GameStateManager : OnPlayerJoin()

note over GameStateManager
	Once desired number
	of players join
end note

GameStateManager -> CallbackClient : GameStateUpdate(SELCTDECK)
CallbackClient -> CallbackServiceServer : SELECTDECK message
GameStateManager -> GameStateManager : UpdateGameState(SELCTDECK)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : SelectDeck()

note right
	Stays in SelectDeck() 
	until all players
	select their decks
end note

Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : SelectDeck()

note right
	Client stays in 
	SelectDeck() until 
	player selects a 
	deck using GUI
end note

ClientStateManager -> PubSubClient : SendClientStateUpdate(DECK_SELECTED)
PubSubClient -> PubSubService : DECK_SELECTED message
PubSubService -> GameStateManager : ProcessClientStateUpdate(DECK_SELECTED)
GameStateManager -> GameStateManager : OnPlayerDeckSelected()

note over GameStateManager
	Once all players
	select their decks
end note

GameStateManager -> CallbackClient : GameStateUpdate(PREPSTART)
CallbackClient -> CallbackServiceServer : PREPSTART message
GameStateManager -> GameStateManager : UpdateGameState(PREPSTART)

Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : PrepStart()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : PrepStart()
GameStateManager -> CallbackClient : GameStateUpdate(ROLL)
CallbackClient -> CallbackServiceServer : ROLL message
GameStateManager -> GameStateManager : UpdateGameState(ROLL)

Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Roll()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Roll()
CallbackClient -> CallbackServiceServer : ROLL_RESULT message
GameStateManager -> CallbackClient : GameStateUpdate(DEAL)
CallbackClient -> CallbackServiceServer : DEAL message
GameStateManager -> GameStateManager : UpdateGameState(DEAL)

Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : DealCards()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : DealCards()
GameStateManager -> GameStateManager : UpdateGameState(START_TURN)

Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : StartTurn()

note right
	Here GSM decides who is 'player'
	and who is 'opponent'.
	Players goes first.
end note

GameStateManager -> GameStateManager : UpdateGameState(PUNTAP)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : PUntap()



skinparam BoxPadding 20
skinparam SequenceBoxBorderColor black
box "Host" #LightBlue
	participant GameStateManager
	participant PubSubService
	participant CallbackClient
end box

box "Client" #LightYellow
	participant ClientStateManager
	participant CallbackServiceServer
	participant PubSubClient
end box

@enduml

PlantUML version 1.2018.03(Thu Apr 05 12:59:15 EDT 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_161-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>