<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3442px" preserveAspectRatio="none" style="width:1154px;height:3442px;" version="1.1" viewBox="0 0 1154 3442" width="1154px" zoomAndPan="magnify"><defs><filter height="300%" id="f1g55w5oif799k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="3427.6719" style="stroke: #000000; stroke-width: 1.0;" width="542" x="101" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="358.5" y="17.4951">Host</text><rect fill="#FFFFE0" height="3427.6719" style="stroke: #000000; stroke-width: 1.0;" width="436" x="685" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="884.5" y="17.4951">Client</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="41" x2="41" y1="60.9609" y2="3392.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="177" x2="177" y1="60.9609" y2="3392.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="463" x2="463" y1="60.9609" y2="3392.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="585" x2="585" y1="60.9609" y2="3392.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="760" x2="760" y1="60.9609" y2="3392.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="922" x2="922" y1="60.9609" y2="3392.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1065" x2="1065" y1="60.9609" y2="3392.0625"/><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="8" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="15" y="45.8848">Unity3D</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="8" y="3391.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="15" y="3412.5957">Unity3D</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="105" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="112" y="45.8848">GameStateManager</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="105" y="3391.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="112" y="3412.5957">GameStateManager</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="406" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="413" y="45.8848">PubSubService</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="406" y="3391.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="413" y="3412.5957">PubSubService</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="531" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="538" y="45.8848">CallbackClient</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="531" y="3391.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="538" y="3412.5957">CallbackClient</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="689" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="696" y="45.8848">ClientStateManager</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="689" y="3391.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="696" y="3412.5957">ClientStateManager</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="842" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="849" y="45.8848">CallbackServiceServer</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="842" y="3391.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="849" y="3412.5957">CallbackServiceServer</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1013" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1020" y="45.8848">PubSubClient</text><rect fill="#FEFECE" filter="url(#f1g55w5oif799k)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="1013" y="3391.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="1020" y="3412.5957">PubSubClient</text><polygon fill="#A80036" points="573,89.3125,583,93.3125,573,97.3125,577,93.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="579" y1="93.3125" y2="93.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="184.5" y="88.4561">GameStateUpdate(READY)</text><polygon fill="#A80036" points="910.5,119.6641,920.5,123.6641,910.5,127.6641,914.5,123.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="916.5" y1="123.6641" y2="123.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="592" y="118.8076">READY message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="154.0156" y2="154.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="154.0156" y2="167.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="167.0156" y2="167.0156"/><polygon fill="#A80036" points="188.5,163.0156,178.5,167.0156,188.5,171.0156,184.5,167.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="184.5" y="149.1592">UpdateGameState(READY)</text><polygon fill="#A80036" points="165.5,193.3672,175.5,197.3672,165.5,201.3672,169.5,197.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="197.3672" y2="197.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="192.5107">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="242.5703" y2="242.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="242.5703" y2="255.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="255.5703" y2="255.5703"/><polygon fill="#A80036" points="188.5,251.5703,178.5,255.5703,188.5,259.5703,184.5,255.5703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="184.5" y="237.7139">Ready()</text><path d="M241,210.3672 L241,269.3672 L363,269.3672 L363,220.3672 L353,210.3672 L241,210.3672 " fill="#FBFB77" filter="url(#f1g55w5oif799k)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M353,210.3672 L353,220.3672 L363,220.3672 L353,210.3672 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="247" y="228.8623">Stays in Ready()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="247" y="245.2139">until all players</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="247" y="261.5654">signal ready</text><polygon fill="#A80036" points="748.5,296.7734,758.5,300.7734,748.5,304.7734,752.5,300.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="754.5" y1="300.7734" y2="300.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="295.917">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="802.5" y1="331.125" y2="331.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="331.125" y2="344.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="761.5" x2="802.5" y1="344.125" y2="344.125"/><polygon fill="#A80036" points="771.5,340.125,761.5,344.125,771.5,348.125,767.5,344.125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="767.5" y="326.2686">Ready()</text><polygon fill="#A80036" points="1053,370.4766,1063,374.4766,1053,378.4766,1057,374.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="1059" y1="374.4766" y2="374.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="767.5" y="369.6201">SendClientStateUpdate(READY)</text><polygon fill="#A80036" points="474.5,400.8281,464.5,404.8281,474.5,408.8281,470.5,404.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="1064" y1="404.8281" y2="404.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="480.5" y="399.9717">READY message</text><polygon fill="#A80036" points="188.5,431.1797,178.5,435.1797,188.5,439.1797,184.5,435.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="462.5" y1="435.1797" y2="435.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="194.5" y="430.3232">ProcessClientStateUpdate(READY)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="465.5313" y2="465.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="465.5313" y2="478.5313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="478.5313" y2="478.5313"/><polygon fill="#A80036" points="188.5,474.5313,178.5,478.5313,188.5,482.5313,184.5,478.5313" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="184.5" y="460.6748">OnPlayerReady()</text><path d="M68,491.5313 L68,582.5313 L283,582.5313 L283,501.5313 L273,491.5313 L68,491.5313 " fill="#FBFB77" filter="url(#f1g55w5oif799k)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M273,491.5313 L273,501.5313 L283,501.5313 L273,491.5313 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="74" y="510.0264">Once all players are ready. GSM</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="74" y="526.3779">chooses</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="34" x="127" y="526.3779">player</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="165" y="526.3779">based on</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="74" y="542.7295">outcomes of dice rolls.  During a</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="43" x="74" y="559.0811">player's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="121" y="559.0811">turn others are called</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="74" y="575.4326">opponents</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="134" y="575.4326">.</text><rect fill="#EEEEEE" filter="url(#f1g55w5oif799k)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1139" x="3" y="613.4648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1142" y1="613.4648" y2="613.4648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1142" y1="616.4648" y2="616.4648"/><rect fill="#EEEEEE" filter="url(#f1g55w5oif799k)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="159" x="493" y="602.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="141" x="499" y="619.7842">Begin Main Turn Loop</text><polygon fill="#A80036" points="573,654.9922,583,658.9922,573,662.9922,577,658.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="579" y1="658.9922" y2="658.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="184.5" y="654.1357">GameStateUpdate(UNTAP)</text><polygon fill="#A80036" points="910.5,685.3438,920.5,689.3438,910.5,693.3438,914.5,689.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="916.5" y1="689.3438" y2="689.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="592" y="684.4873">UNTAP message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="719.6953" y2="719.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="719.6953" y2="732.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="732.6953" y2="732.6953"/><polygon fill="#A80036" points="188.5,728.6953,178.5,732.6953,188.5,736.6953,184.5,732.6953" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="184.5" y="714.8389">UpdateGameState(UNTAP)</text><polygon fill="#A80036" points="165.5,759.0469,175.5,763.0469,165.5,767.0469,169.5,763.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="763.0469" y2="763.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="758.1904">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="793.3984" y2="793.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="793.3984" y2="806.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="806.3984" y2="806.3984"/><polygon fill="#A80036" points="188.5,802.3984,178.5,806.3984,188.5,810.3984,184.5,806.3984" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="184.5" y="788.542">Untap()</text><polygon fill="#A80036" points="748.5,832.75,758.5,836.75,748.5,840.75,752.5,836.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="754.5" y1="836.75" y2="836.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="831.8936">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="802.5" y1="867.1016" y2="867.1016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="867.1016" y2="880.1016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="761.5" x2="802.5" y1="880.1016" y2="880.1016"/><polygon fill="#A80036" points="771.5,876.1016,761.5,880.1016,771.5,884.1016,767.5,880.1016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="767.5" y="862.2451">Untap()</text><polygon fill="#A80036" points="1053,906.4531,1063,910.4531,1053,914.4531,1057,910.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="1059" y1="910.4531" y2="910.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="767.5" y="905.5967">SendClientStateUpdate(UNTAP_DONE)</text><polygon fill="#A80036" points="474.5,936.8047,464.5,940.8047,474.5,944.8047,470.5,940.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="1064" y1="940.8047" y2="940.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="480.5" y="935.9482">UNTAP_DONE message</text><polygon fill="#A80036" points="188.5,967.1563,178.5,971.1563,188.5,975.1563,184.5,971.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="462.5" y1="971.1563" y2="971.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="194.5" y="966.2998">ProcessClientStateUpdate(UNTAP_DONE)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1001.5078" y2="1001.5078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1001.5078" y2="1014.5078"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1014.5078" y2="1014.5078"/><polygon fill="#A80036" points="188.5,1010.5078,178.5,1014.5078,188.5,1018.5078,184.5,1014.5078" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="184.5" y="996.6514">OnPlayerUntapDone()</text><polygon fill="#A80036" points="573,1040.8594,583,1044.8594,573,1048.8594,577,1044.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="579" y1="1044.8594" y2="1044.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="184.5" y="1040.0029">GameStateUpdate(UPKEEP)</text><polygon fill="#A80036" points="910.5,1071.2109,920.5,1075.2109,910.5,1079.2109,914.5,1075.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="916.5" y1="1075.2109" y2="1075.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="592" y="1070.3545">UPKEEP message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1105.5625" y2="1105.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1105.5625" y2="1118.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1118.5625" y2="1118.5625"/><polygon fill="#A80036" points="188.5,1114.5625,178.5,1118.5625,188.5,1122.5625,184.5,1118.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="184.5" y="1100.7061">UpdateGameState(UPKEEP)</text><polygon fill="#A80036" points="165.5,1144.9141,175.5,1148.9141,165.5,1152.9141,169.5,1148.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="1148.9141" y2="1148.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1144.0576">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1179.2656" y2="1179.2656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1179.2656" y2="1192.2656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1192.2656" y2="1192.2656"/><polygon fill="#A80036" points="188.5,1188.2656,178.5,1192.2656,188.5,1196.2656,184.5,1192.2656" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="184.5" y="1174.4092">Upkeep()</text><polygon fill="#A80036" points="748.5,1218.6172,758.5,1222.6172,748.5,1226.6172,752.5,1222.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="754.5" y1="1222.6172" y2="1222.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1217.7607">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="802.5" y1="1252.9688" y2="1252.9688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="1252.9688" y2="1265.9688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="761.5" x2="802.5" y1="1265.9688" y2="1265.9688"/><polygon fill="#A80036" points="771.5,1261.9688,761.5,1265.9688,771.5,1269.9688,767.5,1265.9688" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="767.5" y="1248.1123">Upkeep()</text><polygon fill="#A80036" points="1053,1292.3203,1063,1296.3203,1053,1300.3203,1057,1296.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="1059" y1="1296.3203" y2="1296.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="767.5" y="1291.4639">SendClientStateUpdate(UPKEEP_DONE)</text><polygon fill="#A80036" points="474.5,1322.6719,464.5,1326.6719,474.5,1330.6719,470.5,1326.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="1064" y1="1326.6719" y2="1326.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="480.5" y="1321.8154">UPKEEP_DONE message</text><polygon fill="#A80036" points="188.5,1353.0234,178.5,1357.0234,188.5,1361.0234,184.5,1357.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="462.5" y1="1357.0234" y2="1357.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="194.5" y="1352.167">ProcessClientStateUpdate(UPKEEP_DONE)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1387.375" y2="1387.375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1387.375" y2="1400.375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1400.375" y2="1400.375"/><polygon fill="#A80036" points="188.5,1396.375,178.5,1400.375,188.5,1404.375,184.5,1400.375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="184.5" y="1382.5186">OnPlayerUpkeepDone()</text><polygon fill="#A80036" points="573,1426.7266,583,1430.7266,573,1434.7266,577,1430.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="579" y1="1430.7266" y2="1430.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="184.5" y="1425.8701">GameStateUpdate(DRAW)</text><polygon fill="#A80036" points="910.5,1457.0781,920.5,1461.0781,910.5,1465.0781,914.5,1461.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="916.5" y1="1461.0781" y2="1461.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="592" y="1456.2217">DRAW message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1491.4297" y2="1491.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1491.4297" y2="1504.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1504.4297" y2="1504.4297"/><polygon fill="#A80036" points="188.5,1500.4297,178.5,1504.4297,188.5,1508.4297,184.5,1504.4297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="184.5" y="1486.5732">UpdateGameState(DRAW)</text><polygon fill="#A80036" points="165.5,1530.7813,175.5,1534.7813,165.5,1538.7813,169.5,1534.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="1534.7813" y2="1534.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1529.9248">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1565.1328" y2="1565.1328"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1565.1328" y2="1578.1328"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1578.1328" y2="1578.1328"/><polygon fill="#A80036" points="188.5,1574.1328,178.5,1578.1328,188.5,1582.1328,184.5,1578.1328" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="184.5" y="1560.2764">Draw()</text><polygon fill="#A80036" points="748.5,1604.4844,758.5,1608.4844,748.5,1612.4844,752.5,1608.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="754.5" y1="1608.4844" y2="1608.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1603.6279">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="802.5" y1="1638.8359" y2="1638.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="1638.8359" y2="1651.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="761.5" x2="802.5" y1="1651.8359" y2="1651.8359"/><polygon fill="#A80036" points="771.5,1647.8359,761.5,1651.8359,771.5,1655.8359,767.5,1651.8359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="767.5" y="1633.9795">Draw()</text><polygon fill="#A80036" points="1053,1678.1875,1063,1682.1875,1053,1686.1875,1057,1682.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="1059" y1="1682.1875" y2="1682.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="767.5" y="1677.3311">SendClientStateUpdate(DRAW_DONE)</text><polygon fill="#A80036" points="474.5,1708.5391,464.5,1712.5391,474.5,1716.5391,470.5,1712.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="1064" y1="1712.5391" y2="1712.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="480.5" y="1707.6826">DRAW_DONE message</text><polygon fill="#A80036" points="188.5,1738.8906,178.5,1742.8906,188.5,1746.8906,184.5,1742.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="462.5" y1="1742.8906" y2="1742.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="194.5" y="1738.0342">ProcessClientStateUpdate(DRAW_DONE)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1773.2422" y2="1773.2422"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1773.2422" y2="1786.2422"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1786.2422" y2="1786.2422"/><polygon fill="#A80036" points="188.5,1782.2422,178.5,1786.2422,188.5,1790.2422,184.5,1786.2422" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="184.5" y="1768.3857">OnPlayerDawDone()</text><polygon fill="#A80036" points="573,1812.5938,583,1816.5938,573,1820.5938,577,1816.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="579" y1="1816.5938" y2="1816.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="184.5" y="1811.7373">GameStateUpdate(MAIN)</text><polygon fill="#A80036" points="910.5,1842.9453,920.5,1846.9453,910.5,1850.9453,914.5,1846.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="916.5" y1="1846.9453" y2="1846.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="592" y="1842.0889">MAIN message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1877.2969" y2="1877.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1877.2969" y2="1890.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1890.2969" y2="1890.2969"/><polygon fill="#A80036" points="188.5,1886.2969,178.5,1890.2969,188.5,1894.2969,184.5,1890.2969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="184.5" y="1872.4404">UpdateGameState(MAIN)</text><polygon fill="#A80036" points="165.5,1916.6484,175.5,1920.6484,165.5,1924.6484,169.5,1920.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="1920.6484" y2="1920.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1915.792">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="1951" y2="1951"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="1951" y2="1964"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="1964" y2="1964"/><polygon fill="#A80036" points="188.5,1960,178.5,1964,188.5,1968,184.5,1964" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="184.5" y="1946.1436">Main()</text><polygon fill="#A80036" points="748.5,1990.3516,758.5,1994.3516,748.5,1998.3516,752.5,1994.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="754.5" y1="1994.3516" y2="1994.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="1989.4951">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="802.5" y1="2024.7031" y2="2024.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="2024.7031" y2="2037.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="761.5" x2="802.5" y1="2037.7031" y2="2037.7031"/><polygon fill="#A80036" points="771.5,2033.7031,761.5,2037.7031,771.5,2041.7031,767.5,2037.7031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="767.5" y="2019.8467">Main()</text><polygon fill="#A80036" points="1053,2064.0547,1063,2068.0547,1053,2072.0547,1057,2068.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="1059" y1="2068.0547" y2="2068.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="767.5" y="2063.1982">SendClientStateUpdate(MAIN_DONE)</text><polygon fill="#A80036" points="474.5,2094.4063,464.5,2098.4063,474.5,2102.4063,470.5,2098.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="1064" y1="2098.4063" y2="2098.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="480.5" y="2093.5498">MAIN_DONE message</text><polygon fill="#A80036" points="188.5,2124.7578,178.5,2128.7578,188.5,2132.7578,184.5,2128.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="462.5" y1="2128.7578" y2="2128.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="194.5" y="2123.9014">ProcessClientStateUpdate(MAIN_DONE)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2159.1094" y2="2159.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2159.1094" y2="2172.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2172.1094" y2="2172.1094"/><polygon fill="#A80036" points="188.5,2168.1094,178.5,2172.1094,188.5,2176.1094,184.5,2172.1094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="184.5" y="2154.2529">OnPlayerMainDone()</text><polygon fill="#A80036" points="573,2198.4609,583,2202.4609,573,2206.4609,577,2202.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="579" y1="2202.4609" y2="2202.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="184.5" y="2197.6045">GameStateUpdate(COMBAT)</text><polygon fill="#A80036" points="910.5,2228.8125,920.5,2232.8125,910.5,2236.8125,914.5,2232.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="916.5" y1="2232.8125" y2="2232.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="592" y="2227.9561">COMBAT message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2263.1641" y2="2263.1641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2263.1641" y2="2276.1641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2276.1641" y2="2276.1641"/><polygon fill="#A80036" points="188.5,2272.1641,178.5,2276.1641,188.5,2280.1641,184.5,2276.1641" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="184.5" y="2258.3076">UpdateGameState(COMBAT)</text><polygon fill="#A80036" points="165.5,2302.5156,175.5,2306.5156,165.5,2310.5156,169.5,2306.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="2306.5156" y2="2306.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="2301.6592">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2336.8672" y2="2336.8672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2336.8672" y2="2349.8672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2349.8672" y2="2349.8672"/><polygon fill="#A80036" points="188.5,2345.8672,178.5,2349.8672,188.5,2353.8672,184.5,2349.8672" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="184.5" y="2332.0107">Combat()</text><polygon fill="#A80036" points="748.5,2376.2188,758.5,2380.2188,748.5,2384.2188,752.5,2380.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="754.5" y1="2380.2188" y2="2380.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="2375.3623">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="802.5" y1="2410.5703" y2="2410.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="2410.5703" y2="2423.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="761.5" x2="802.5" y1="2423.5703" y2="2423.5703"/><polygon fill="#A80036" points="771.5,2419.5703,761.5,2423.5703,771.5,2427.5703,767.5,2423.5703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="767.5" y="2405.7139">Combat()</text><polygon fill="#A80036" points="1053,2449.9219,1063,2453.9219,1053,2457.9219,1057,2453.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="1059" y1="2453.9219" y2="2453.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="767.5" y="2449.0654">SendClientStateUpdate(COMBAT_DONE)</text><polygon fill="#A80036" points="474.5,2480.2734,464.5,2484.2734,474.5,2488.2734,470.5,2484.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="1064" y1="2484.2734" y2="2484.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="480.5" y="2479.417">COMBAT_DONE message</text><polygon fill="#A80036" points="188.5,2510.625,178.5,2514.625,188.5,2518.625,184.5,2514.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="462.5" y1="2514.625" y2="2514.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="194.5" y="2509.7686">ProcessClientStateUpdate(COMBAT_DONE)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2544.9766" y2="2544.9766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2544.9766" y2="2557.9766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2557.9766" y2="2557.9766"/><polygon fill="#A80036" points="188.5,2553.9766,178.5,2557.9766,188.5,2561.9766,184.5,2557.9766" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="184.5" y="2540.1201">OnPlayerCombatDone()</text><polygon fill="#A80036" points="573,2584.3281,583,2588.3281,573,2592.3281,577,2588.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="579" y1="2588.3281" y2="2588.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="184.5" y="2583.4717">GameStateUpdate(MAIN)</text><polygon fill="#A80036" points="910.5,2614.6797,920.5,2618.6797,910.5,2622.6797,914.5,2618.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="916.5" y1="2618.6797" y2="2618.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="592" y="2613.8232">MAIN message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2649.0313" y2="2649.0313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2649.0313" y2="2662.0313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2662.0313" y2="2662.0313"/><polygon fill="#A80036" points="188.5,2658.0313,178.5,2662.0313,188.5,2666.0313,184.5,2662.0313" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="184.5" y="2644.1748">UpdateGameState(MAIN)</text><polygon fill="#A80036" points="165.5,2688.3828,175.5,2692.3828,165.5,2696.3828,169.5,2692.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="2692.3828" y2="2692.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="2687.5264">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2722.7344" y2="2722.7344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2722.7344" y2="2735.7344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2735.7344" y2="2735.7344"/><polygon fill="#A80036" points="188.5,2731.7344,178.5,2735.7344,188.5,2739.7344,184.5,2735.7344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="184.5" y="2717.8779">Main()</text><polygon fill="#A80036" points="748.5,2762.0859,758.5,2766.0859,748.5,2770.0859,752.5,2766.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="754.5" y1="2766.0859" y2="2766.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="2761.2295">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="802.5" y1="2796.4375" y2="2796.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="2796.4375" y2="2809.4375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="761.5" x2="802.5" y1="2809.4375" y2="2809.4375"/><polygon fill="#A80036" points="771.5,2805.4375,761.5,2809.4375,771.5,2813.4375,767.5,2809.4375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="767.5" y="2791.5811">Main()</text><polygon fill="#A80036" points="1053,2835.7891,1063,2839.7891,1053,2843.7891,1057,2839.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="1059" y1="2839.7891" y2="2839.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="767.5" y="2834.9326">SendClientStateUpdate(MAIN_DONE)</text><polygon fill="#A80036" points="474.5,2866.1406,464.5,2870.1406,474.5,2874.1406,470.5,2870.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="1064" y1="2870.1406" y2="2870.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="480.5" y="2865.2842">MAIN_DONE message</text><polygon fill="#A80036" points="188.5,2896.4922,178.5,2900.4922,188.5,2904.4922,184.5,2900.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="462.5" y1="2900.4922" y2="2900.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="194.5" y="2895.6357">ProcessClientStateUpdate(MAIN_DONE)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="2930.8438" y2="2930.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="2930.8438" y2="2943.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="2943.8438" y2="2943.8438"/><polygon fill="#A80036" points="188.5,2939.8438,178.5,2943.8438,188.5,2947.8438,184.5,2943.8438" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="184.5" y="2925.9873">OnPlayerMainDone()</text><polygon fill="#A80036" points="573,2970.1953,583,2974.1953,573,2978.1953,577,2974.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="579" y1="2974.1953" y2="2974.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="184.5" y="2969.3389">GameStateUpdate(DISCARD)</text><polygon fill="#A80036" points="910.5,3000.5469,920.5,3004.5469,910.5,3008.5469,914.5,3004.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="916.5" y1="3004.5469" y2="3004.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="592" y="2999.6904">DISCARD message</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="3034.8984" y2="3034.8984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="3034.8984" y2="3047.8984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="3047.8984" y2="3047.8984"/><polygon fill="#A80036" points="188.5,3043.8984,178.5,3047.8984,188.5,3051.8984,184.5,3047.8984" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="184.5" y="3030.042">UpdateGameState(DISCARD)</text><polygon fill="#A80036" points="165.5,3074.25,175.5,3078.25,165.5,3082.25,169.5,3078.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="171.5" y1="3078.25" y2="3078.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="3073.3936">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="3108.6016" y2="3108.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="3108.6016" y2="3121.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="3121.6016" y2="3121.6016"/><polygon fill="#A80036" points="188.5,3117.6016,178.5,3121.6016,188.5,3125.6016,184.5,3121.6016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="184.5" y="3103.7451">Discard()</text><polygon fill="#A80036" points="748.5,3147.9531,758.5,3151.9531,748.5,3155.9531,752.5,3151.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="754.5" y1="3151.9531" y2="3151.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="48.5" y="3147.0967">update()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="802.5" y1="3182.3047" y2="3182.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="3182.3047" y2="3195.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="761.5" x2="802.5" y1="3195.3047" y2="3195.3047"/><polygon fill="#A80036" points="771.5,3191.3047,761.5,3195.3047,771.5,3199.3047,767.5,3195.3047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="767.5" y="3177.4482">Discard()</text><polygon fill="#A80036" points="1053,3221.6563,1063,3225.6563,1053,3229.6563,1057,3225.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="760.5" x2="1059" y1="3225.6563" y2="3225.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="767.5" y="3220.7998">SendClientStateUpdate(DISCARD_DONE)</text><polygon fill="#A80036" points="474.5,3252.0078,464.5,3256.0078,474.5,3260.0078,470.5,3256.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="1064" y1="3256.0078" y2="3256.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="480.5" y="3251.1514">DISCARD_DONE message</text><polygon fill="#A80036" points="188.5,3282.3594,178.5,3286.3594,188.5,3290.3594,184.5,3286.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182.5" x2="462.5" y1="3286.3594" y2="3286.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="194.5" y="3281.5029">ProcessClientStateUpdate(DISCARD_DONE)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="177.5" x2="219.5" y1="3316.7109" y2="3316.7109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="219.5" x2="219.5" y1="3316.7109" y2="3329.7109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178.5" x2="219.5" y1="3329.7109" y2="3329.7109"/><polygon fill="#A80036" points="188.5,3325.7109,178.5,3329.7109,188.5,3333.7109,184.5,3329.7109" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="184.5" y="3311.8545">OnPlayerMainDone()</text><rect fill="#EEEEEE" filter="url(#f1g55w5oif799k)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1139" x="3" y="3358.8867"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1142" y1="3358.8867" y2="3358.8867"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1142" y1="3361.8867" y2="3361.8867"/><rect fill="#EEEEEE" filter="url(#f1g55w5oif799k)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="146" x="499.5" y="3347.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="505.5" y="3365.2061">End Main Turn Loop</text><!--
@startuml

GameStateManager -> CallbackClient : GameStateUpdate(READY)
CallbackClient -> CallbackServiceServer : READY message
GameStateManager -> GameStateManager : UpdateGameState(READY)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Ready()

note right
	Stays in Ready() 
	until all players
	signal ready
end note

Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Ready()
ClientStateManager -> PubSubClient : SendClientStateUpdate(READY)
PubSubClient -> PubSubService : READY message
PubSubService -> GameStateManager : ProcessClientStateUpdate(READY)
GameStateManager -> GameStateManager : OnPlayerReady()

note over GameStateManager
	Once all players are ready. GSM 
	chooses //player// based on 
	outcomes of dice rolls.  During a
	//player's// turn others are called
	//opponents//.
end note

== Begin Main Turn Loop ==

GameStateManager -> CallbackClient : GameStateUpdate(UNTAP)
CallbackClient -> CallbackServiceServer : UNTAP message
GameStateManager -> GameStateManager : UpdateGameState(UNTAP)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Untap()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Untap()
ClientStateManager -> PubSubClient : SendClientStateUpdate(UNTAP_DONE)
PubSubClient -> PubSubService : UNTAP_DONE message
PubSubService -> GameStateManager : ProcessClientStateUpdate(UNTAP_DONE)
GameStateManager -> GameStateManager : OnPlayerUntapDone()

GameStateManager -> CallbackClient : GameStateUpdate(UPKEEP)
CallbackClient -> CallbackServiceServer : UPKEEP message
GameStateManager -> GameStateManager : UpdateGameState(UPKEEP)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Upkeep()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Upkeep()
ClientStateManager -> PubSubClient : SendClientStateUpdate(UPKEEP_DONE)
PubSubClient -> PubSubService : UPKEEP_DONE message
PubSubService -> GameStateManager : ProcessClientStateUpdate(UPKEEP_DONE)
GameStateManager -> GameStateManager : OnPlayerUpkeepDone()

GameStateManager -> CallbackClient : GameStateUpdate(DRAW)
CallbackClient -> CallbackServiceServer : DRAW message
GameStateManager -> GameStateManager : UpdateGameState(DRAW)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Draw()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Draw()
ClientStateManager -> PubSubClient : SendClientStateUpdate(DRAW_DONE)
PubSubClient -> PubSubService : DRAW_DONE message
PubSubService -> GameStateManager : ProcessClientStateUpdate(DRAW_DONE)
GameStateManager -> GameStateManager : OnPlayerDawDone()

GameStateManager -> CallbackClient : GameStateUpdate(MAIN)
CallbackClient -> CallbackServiceServer : MAIN message
GameStateManager -> GameStateManager : UpdateGameState(MAIN)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Main()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Main()
ClientStateManager -> PubSubClient : SendClientStateUpdate(MAIN_DONE)
PubSubClient -> PubSubService : MAIN_DONE message
PubSubService -> GameStateManager : ProcessClientStateUpdate(MAIN_DONE)
GameStateManager -> GameStateManager : OnPlayerMainDone()

GameStateManager -> CallbackClient : GameStateUpdate(COMBAT)
CallbackClient -> CallbackServiceServer : COMBAT message
GameStateManager -> GameStateManager : UpdateGameState(COMBAT)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Combat()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Combat()
ClientStateManager -> PubSubClient : SendClientStateUpdate(COMBAT_DONE)
PubSubClient -> PubSubService : COMBAT_DONE message
PubSubService -> GameStateManager : ProcessClientStateUpdate(COMBAT_DONE)
GameStateManager -> GameStateManager : OnPlayerCombatDone()

GameStateManager -> CallbackClient : GameStateUpdate(MAIN)
CallbackClient -> CallbackServiceServer : MAIN message
GameStateManager -> GameStateManager : UpdateGameState(MAIN)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Main()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Main()
ClientStateManager -> PubSubClient : SendClientStateUpdate(MAIN_DONE)
PubSubClient -> PubSubService : MAIN_DONE message
PubSubService -> GameStateManager : ProcessClientStateUpdate(MAIN_DONE)
GameStateManager -> GameStateManager : OnPlayerMainDone()

GameStateManager -> CallbackClient : GameStateUpdate(DISCARD)
CallbackClient -> CallbackServiceServer : DISCARD message
GameStateManager -> GameStateManager : UpdateGameState(DISCARD)
Unity3D -> GameStateManager : update()
GameStateManager -> GameStateManager : Discard()
Unity3D -> ClientStateManager : update()
ClientStateManager -> ClientStateManager : Discard()
ClientStateManager -> PubSubClient : SendClientStateUpdate(DISCARD_DONE)
PubSubClient -> PubSubService : DISCARD_DONE message
PubSubService -> GameStateManager : ProcessClientStateUpdate(DISCARD_DONE)
GameStateManager -> GameStateManager : OnPlayerMainDone()

== End Main Turn Loop ==


skinparam BoxPadding 20
skinparam SequenceBoxBorderColor black
box "Host" #LightBlue
	participant GameStateManager
	participant PubSubService
	participant CallbackClient
end box

box "Client" #LightYellow
	participant ClientStateManager
	participant CallbackServiceServer
	participant PubSubClient
end box

@enduml

PlantUML version 1.2018.03(Thu Apr 05 12:59:15 EDT 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_161-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>